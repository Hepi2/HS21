file.edit("index.Rmd")
dir()
library(tidyverse)
read_delim("Unterrichtsunterlagen_HS19/13_Statistik1/data/novanimal.csv")
read_delim("Unterrichtsunterlagen_HS19/13_Statistik1/data/novanimal.csv", delim = ";")
df <- read_delim("Unterrichtsunterlagen_HS19/13_Statistik1/data/novanimal.csv", delim = ";")
group_by(df, gender, member) %>% summarise()
group_by(df, gender, member) %>% summarise(tot = n)
group_by(df, gender, member) %>% summarise(tot = n())
719 +816 +345 +339
getwd()
library(tidyverse)
nova <- read_delim("13_Statistik1/data/novanimal.csv", delim = ";")
library(tidyverse)
library(readr)
library(tidyverse)
install.packages("tidyverse")
library(tidyverse)
install.packages("lifecylce")
library(tidyverse)
nova <- read_delim("13_Statistik1/data/novanimal.csv", delim = ";")
mytheme <-
theme_classic() +
theme(
axis.line = element_line(color = "black"),
axis.text = element_text(size = 20, color = "black"),
axis.title = element_text(size = 20, color = "black"),
axis.ticks = element_line(size = 1, color = "black"),
axis.ticks.length = unit(.5, "cm")
)
library(ggplot2)
mytheme <-
theme_classic() +
theme(
axis.line = element_line(color = "black"),
axis.text = element_text(size = 20, color = "black"),
axis.title = element_text(size = 20, color = "black"),
axis.ticks = element_line(size = 1, color = "black"),
axis.ticks.length = unit(.5, "cm")
)
df <- nova %>%
group_by(week, condit) %>%
summarise(tot_sold = n())
library(dplyr)
df <- nova %>%
group_by(week, condit) %>%
summarise(tot_sold = n())
t_test <- t.test(df[df$condit == "Basis", ]$tot_sold,
df[df$condit == "Intervention", ]$tot_sold)
t_test
t.test(tot_sold~condit, data=df)#alternative formulierung
matrix(df_t[ ,c("stichprobe", "gesamtheit")])
df_t <- group_by(nova, gender, member) %>%
summarise(stichprobe = n()) %>%
ungroup() %>%
mutate(canteen_member = c("Mitarbeiterinnen", "Studentinnen", "Mitarbeiter", "Studenten"),
gesamtheit = c(345, 719, 339, 816), # Achtung: reihenfolge muss stimmten vgl. canteen_member
gesamtheit_pct = gesamtheit / sum(gesamtheit),
stichprobe_pct = stichprobe / sum(stichprobe))
matrix(df_t[ ,c("stichprobe", "gesamtheit")])
df_t[ ,c("stichprobe", "gesamtheit")]
matrix(df_t[ ,c("stichprobe", "gesamtheit")], nrow = 2)
a <- matrix(df_t[ ,c("stichprobe", "gesamtheit")], nrow = 2)
a
library(tidyverse)
nova <- read_delim("13_Statistik1/data/novanimal.csv", delim = ";")
mytheme <-
theme_classic() +
theme(
axis.line = element_line(color = "black"),
axis.text = element_text(size = 20, color = "black"),
axis.title = element_text(size = 20, color = "black"),
axis.ticks = element_line(size = 1, color = "black"),
axis.ticks.length = unit(.5, "cm")
)
df <- nova %>%
group_by(week, condit) %>%
summarise(tot_sold = n())
# überprüft die Voraussetzungen für einen t-Test
ggplot(df, aes(x = condit, y= tot_sold)) + # achtung 0 Punkt fehlt
geom_boxplot(fill = "white", color = "black", size = 1) +
labs(x="\nBedingungen", y="Durchschnittlich verkaufte Gerichte pro Woche\n") +
mytheme
t_test <- t.test(tot_sold~condit, data=df)
t.test
t_test
boxplot(df$tot_sold~ df$condit)
boxplot(df$tot_sold~ df$condit)
?boxplot
chisq.test(df$tot_sold ~ df$condit)
chisq.test(df$tot_sold, df$condit)
chisq.test(df$tot_sold, df$week)
df[df$condit == "Basis", ]$tot_sold
summ(df[df$condit == "Basis", ]$tot_sold)
sum(df[df$condit == "Basis", ]$tot_sold)
sum(df[df$condit == "Intervention", ]$tot_sold)
9.3/7.3
t_test
t_test <- t.test(tot_sold~condit, data=df, var.equal = T)
t_test
(7.3 * (1/3 + 1/3))^-1
(7.3 * (1/3 + 1/3))^-2
sqrt(7.3 * (1/3 + 1/3))
sqrt(7.3 * 2/3)
9.3/sqrt(7.3 * 2/3)
rmarkdown::render("17_Statistik5_2/ablauf_inhalt_190823_egel.Rmd")
rmarkdown::render("17_Statistik5_2/assigment_5_2.1.Rmd")
# Load packages and data
data_911 <- read_delim("911.csv", delim = ",")
getwd()
# Load packages and data
data_911 <- read_delim("17_Statistik5_2/911.csv", delim = ",")
compensation
data()
library(dave)
install.packages("dave")
install.packages("vegan")
df <- nova # klone den originaler Datensatz
# fasst die vier Inhalte der Gerichte zu drei Inhalten zusammen.
df$label_content[grep("Pflanzlich+",df$label_content)] <- "Vegetarisch"
# gruppiert Daten nach Menü-Inhalt und Woche
df_ <- df %>%
group_by(label_content, week) %>%
summarise(tot_sold = n()) %>%
drop_na() # lasst die unbekannten Menü-Inhalte weg
# überprüft die Voraussetzungen für eine ANOVA
# Schaut euch die Verteilungen der Mittelwerte an (plus Standardabweichungen)
# Sind Mittelwerte nahe bei Null? Gäbe uns einen weiteren Hinweis auf eine spezielle Binomail-Verteilung (vgl. Statistik 4)
df_  %>%
split(.$label_content) %>% # teilt den Datensatz in 3 verschiedene Datensätze auf
purrr::map(~ psych::describe(.$tot_sold)) # mit map können andere Funktionen auf den Datensatz angewendet werden
## ladet die nötigen Packete und die novanimal.csv Datei in R
nova <- read_delim("13_Statistik1/data/novanimal.csv", delim = ";")
## definiert mytheme für ggplot2 (verwendet dabei theme_classic())
mytheme <-
theme_classic() +
theme(
axis.line = element_line(color = "black"),
axis.text = element_text(size = 20, color = "black"),
axis.title = element_text(size = 20, color = "black"),
axis.ticks = element_line(size = 1, color = "black"),
axis.ticks.length = unit(.5, "cm")
)
df <- nova # klone den originaler Datensatz
# fasst die vier Inhalte der Gerichte zu drei Inhalten zusammen.
df$label_content[grep("Pflanzlich+",df$label_content)] <- "Vegetarisch"
# gruppiert Daten nach Menü-Inhalt und Woche
df_ <- df %>%
group_by(label_content, week) %>%
summarise(tot_sold = n()) %>%
drop_na() # lasst die unbekannten Menü-Inhalte weg
# überprüft die Voraussetzungen für eine ANOVA
# Schaut euch die Verteilungen der Mittelwerte an (plus Standardabweichungen)
# Sind Mittelwerte nahe bei Null? Gäbe uns einen weiteren Hinweis auf eine spezielle Binomail-Verteilung (vgl. Statistik 4)
df_  %>%
split(.$label_content) %>% # teilt den Datensatz in 3 verschiedene Datensätze auf
purrr::map(~ psych::describe(.$tot_sold)) # mit map können andere Funktionen auf den Datensatz angewendet werden
# Boxplot
ggplot(df_, aes(x = label_content, y= tot_sold)) +
stat_boxplot(geom = "errorbar", width = 0.25) + # Achtung: Reihenfolge spielt hier eine Rolle!
geom_boxplot(fill="white", color = "black", size = 1, width = .5) +
labs(x = "\nMenü-Inhalt", y = "Anzahl verkaufte Gerichte pro Woche\n") +
mytheme # achtung erster Hinweis einer Varianzheterogenität
# definiert das Modell (Statistik 2: Folien 4-8)
model <- aov(tot_sold ~ label_content, data = df_)
summary.lm(model)
# überprüft die Modelvoraussetzungen
autoplot(model) + mytheme
# überprüft die Modelvoraussetzungen
ggfortify::autoplot(model) + mytheme
library(ggfortify)
# überprüft die Modelvoraussetzungen
autoplot(model) + mytheme
# überprüft die Voraussetzungen des Welch-Tests:
# Gibt es eine hohe Varianzheterogenität und ist die relative Verteilung der Residuen gegeben? (siehe Folien Statistik 2: Folie 18)
# Ja Varianzheterogenität ist gegeben, aber die Verteilung der Residuen folgt einem "Trichter", also keiner "normalen/symmetrischen" Verteilung um 0 (siehe Folien Statistik 2: Folie 42)
# Daher ziehe ich eine Transformation der AV dem nicht-parametrischen Test vor
model1 <- aov(log10(tot_sold) ~ label_content, data = df_)
autoplot(model) + mytheme # scheint ok zu sein
autoplot(model1) + mytheme # scheint ok zu sein
summary.lm(model1)
TukeyHSD(model1) # (Statistik 2: Folien 9-11)
boxplot(df_$tot_sold)
boxplot(df_$tot_sold)
knitr::purl("13_Statistik1/solution_stat1.Rmd")
